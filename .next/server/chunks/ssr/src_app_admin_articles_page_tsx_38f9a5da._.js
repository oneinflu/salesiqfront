module.exports=[16096,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(6789),e=a.i(68355),f=a.i(87744),g=a.i(44934),h=a.i(13445),i=a.i(17600);let j=({size:a=24,color:b="currentColor",...d})=>c.createElement("svg",{viewBox:"0 0 24 24",width:a,height:a,stroke:b,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...d},c.createElement("path",{d:"M6 12h8a4 4 0 0 0 0-8H6v8Zm0 0h9a4 4 0 0 1 0 8H6v-8Z"}));j.displayName="Bold01";let k=({size:a=24,color:b="currentColor",...d})=>c.createElement("svg",{viewBox:"0 0 24 24",width:a,height:a,stroke:b,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...d},c.createElement("path",{d:"M19 4h-9m4 16H5M15 4 9 20"}));k.displayName="Italic01";let l=({size:a=24,color:b="currentColor",...d})=>c.createElement("svg",{viewBox:"0 0 24 24",width:a,height:a,stroke:b,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...d},c.createElement("path",{d:"M18 4v7a6 6 0 0 1-12 0V4M4 21h16"}));l.displayName="Underline01";let m=({size:a=24,color:b="currentColor",...d})=>c.createElement("svg",{viewBox:"0 0 24 24",width:a,height:a,stroke:b,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...d},c.createElement("path",{d:"m12.708 18.364-1.415 1.414a5 5 0 1 1-7.07-7.07l1.413-1.415m12.728 1.414 1.415-1.414a5 5 0 0 0-7.071-7.071l-1.415 1.414M8.5 15.5l7-7"}));m.displayName="Link01";let n=({size:a=24,color:b="currentColor",...d})=>c.createElement("svg",{viewBox:"0 0 24 24",width:a,height:a,stroke:b,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...d},c.createElement("path",{d:"M21 12H9m12-6H9m12 12H9m-4-6a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm0-6a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm0 12a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}));n.displayName="List";let o=({size:a=24,color:b="currentColor",...d})=>c.createElement("svg",{viewBox:"0 0 24 24",width:a,height:a,stroke:b,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...d},c.createElement("path",{d:"M16.2 21H6.931c-.605 0-.908 0-1.049-.12a.5.5 0 0 1-.173-.42c.014-.183.228-.397.657-.826l8.503-8.503c.396-.396.594-.594.822-.668a1 1 0 0 1 .618 0c.228.074.426.272.822.668L21 15v1.2M16.2 21c1.68 0 2.52 0 3.162-.327a3 3 0 0 0 1.311-1.311C21 18.72 21 17.88 21 16.2M16.2 21H7.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C3 18.72 3 17.88 3 16.2V7.8c0-1.68 0-2.52.327-3.162a3 3 0 0 1 1.311-1.311C5.28 3 6.12 3 7.8 3h8.4c1.68 0 2.52 0 3.162.327a3 3 0 0 1 1.311 1.311C21 5.28 21 6.12 21 7.8v8.4M10.5 8.5a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"}));o.displayName="Image01";let p=({size:a=24,color:b="currentColor",...d})=>c.createElement("svg",{viewBox:"0 0 24 24",width:a,height:a,stroke:b,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...d},c.createElement("path",{d:"M16 10H3m17-4H3m17 8H3m13 4H3"}));p.displayName="AlignLeft";let q=({size:a=24,color:b="currentColor",...d})=>c.createElement("svg",{viewBox:"0 0 24 24",width:a,height:a,stroke:b,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...d},c.createElement("path",{d:"M18 10H6m15-4H3m18 8H3m15 4H6"}));q.displayName="AlignCenter";let r=({size:a=24,color:b="currentColor",...d})=>c.createElement("svg",{viewBox:"0 0 24 24",width:a,height:a,stroke:b,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...d},c.createElement("path",{d:"M21 10H8m13-4H4m17 8H4m17 4H8"}));r.displayName="AlignRight";var s=a.i(53234),t=a.i(52507),u=a.i(15009),v=a.i(37819),w=a.i(71883),x=a.i(10782),y=a.i(33403),z=a.i(20455);function A(){let[a,A]=(0,c.useState)([]),[C,D]=(0,c.useState)([]),[E,F]=(0,c.useState)(!0),[G,H]=(0,c.useState)("all"),[I,J]=(0,c.useState)(""),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)(!1),[O,P]=(0,c.useState)(null),[Q,R]=(0,c.useState)(null),[S,T]=(0,c.useState)({name:"",description:""}),[U,V]=(0,c.useState)({title:"",content:"",excerpt:"",categoryId:"",status:"published",author:"Current User"}),W=async()=>{F(!0);try{let a,b,[c,d]=await Promise.all([z.apiClient.get("/articles/categories"),(a=new URLSearchParams,b=a.toString()?`?${a.toString()}`:"",z.apiClient.get(`/articles${b}`))]);A(c),D(d)}catch(a){console.error("Failed to fetch data:",a)}finally{F(!1)}};(0,c.useEffect)(()=>{W()},[]);let X=C.filter(a=>{let b="all"===G||("string"==typeof a.category?a.category:a.category?._id)===G,c=a.title.toLowerCase().includes(I.toLowerCase())||a.content.toLowerCase().includes(I.toLowerCase());return b&&c}),Y=a.find(a=>a._id===G),Z=a=>{R(a),V({title:a.title,content:a.content,excerpt:a.excerpt,categoryId:"string"==typeof a.category?a.category:a.category?._id,status:a.status,author:a.author}),N(!0)},$=async()=>{try{let a,b,c;O?await (a=O._id,b=S,z.apiClient.put(`/articles/categories/${a}`,b)):await (c=S,z.apiClient.post("/articles/categories",c)),W(),L(!1)}catch(a){console.error("Failed to save category:",a)}},_=async()=>{try{let a,b,c,d={...U,category:U.categoryId};Q?await (a=Q._id,b=d,z.apiClient.put(`/articles/${a}`,b)):await (c=d,z.apiClient.post("/articles",c)),W(),N(!1)}catch(a){console.error("Failed to save article:",a)}},aa=async a=>{if(confirm("Are you sure you want to delete this article?"))try{let b;await (b=a,z.apiClient.delete(`/articles/${b}`)),W()}catch(a){console.error("Failed to delete article:",a)}},ab=async a=>{if(confirm("Are you sure you want to delete this category?"))try{let b;await (b=a,z.apiClient.delete(`/articles/categories/${b}`)),W(),G===a&&H("all")}catch(a){console.error("Failed to delete category:",a)}};return(0,b.jsxs)("div",{className:"flex h-[calc(100vh-1rem)] bg-white",children:[(0,b.jsxs)("div",{className:"w-80 border-r border-gray-200 flex flex-col h-full bg-gray-50/50",children:[(0,b.jsxs)("div",{className:"p-5 border-b border-gray-200 flex justify-between items-center bg-white",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Categories"}),(0,b.jsx)(t.Button,{size:"sm",color:"secondary",iconLeading:d.Plus,onClick:()=>{P(null),T({name:"",description:""}),L(!0)}})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-3 space-y-1",children:[(0,b.jsxs)("button",{onClick:()=>H("all"),className:(0,x.cx)("w-full flex items-center justify-between p-3 rounded-lg text-sm font-medium transition-colors","all"===G?"bg-white text-blue-600 shadow-sm ring-1 ring-gray-200":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(g.File02,{className:"size-5"}),(0,b.jsx)("span",{children:"All Articles"})]}),(0,b.jsx)(v.Badge,{size:"sm",color:"gray",type:"pill-color",children:C.length})]}),(0,b.jsx)("div",{className:"my-2 border-t border-gray-200 mx-2"}),a.map(a=>(0,b.jsxs)("div",{className:"group relative",children:[(0,b.jsxs)("button",{onClick:()=>H(a._id),className:(0,x.cx)("w-full flex items-center justify-between p-3 rounded-lg text-sm font-medium transition-colors",G===a._id?"bg-white text-blue-600 shadow-sm ring-1 ring-gray-200":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(g.File02,{className:"size-5"}),(0,b.jsx)("span",{className:"truncate",children:a.name})]}),(0,b.jsx)(v.Badge,{size:"sm",color:"gray",type:"pill-color",children:C.filter(b=>("string"==typeof b.category?b.category:b.category?._id)===a._id).length})]}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),P(a),T({name:a.name,description:a.description||""}),L(!0)},className:"absolute right-12 top-1/2 -translate-y-1/2 p-1.5 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-200 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsx)(i.Edit01,{className:"size-3.5"})}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),ab(a._id)},className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 rounded-md text-gray-400 hover:text-red-600 hover:bg-red-50 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsx)(h.Trash01,{className:"size-3.5"})})]},a._id))]})]}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col h-full bg-white min-w-0",children:[(0,b.jsxs)("div",{className:"h-16 border-b border-gray-200 flex items-center justify-between px-6 bg-white shrink-0",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"all"===G?"All Articles":Y?.name}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"all"===G?"Manage and publish articles across all categories.":Y?.description})]}),(0,b.jsx)(t.Button,{color:"primary",iconLeading:d.Plus,onClick:()=>{R(null),V({title:"",content:"",excerpt:"",categoryId:"all"===G?a[0]?._id||"":G,status:"published",author:"Current User"}),N(!0)},children:"Write Article"})]}),(0,b.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,b.jsx)(e.SearchLg,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search articles...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",value:I,onChange:a=>J(a.target.value)})]}),(0,b.jsx)(t.Button,{color:"tertiary",iconLeading:f.FilterLines,children:"Filter"})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:0===X.length?(0,b.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,b.jsx)(g.File02,{className:"size-12 mx-auto text-gray-300 mb-3"}),(0,b.jsx)("p",{className:"text-lg font-medium text-gray-900",children:"No articles found"}),(0,b.jsx)("p",{className:"text-sm",children:"Try adjusting your search or write a new article."})]}):X.map(a=>(0,b.jsx)("div",{className:"group border border-gray-200 rounded-xl p-5 hover:border-blue-300 hover:shadow-sm transition-all bg-white cursor-pointer",onClick:()=>Z(a),children:(0,b.jsxs)("div",{className:"flex justify-between items-start gap-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 text-lg",children:a.title}),(0,b.jsx)(v.Badge,{size:"sm",color:"published"===a.status?"success":"warning",type:"pill-color",children:"published"===a.status?"Published":"Draft"})]}),(0,b.jsx)("p",{className:"text-gray-600 text-sm line-clamp-2 mb-4",children:a.content}),(0,b.jsxs)("div",{className:"flex items-center gap-6 text-xs text-gray-500",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(y.Avatar,{initials:a.author.charAt(0),size:"xs",className:"bg-gray-100 text-gray-600"}),(0,b.jsx)("span",{className:"font-medium text-gray-700",children:a.author})]}),(0,b.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(s.Calendar,{className:"size-3.5"}),a.publishedAt?new Date(a.publishedAt).toLocaleDateString():"Draft"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(t.Button,{size:"sm",color:"tertiary",iconLeading:i.Edit01,onClick:b=>{b.stopPropagation(),Z(a)}}),(0,b.jsx)(t.Button,{size:"sm",color:"tertiary-destructive",iconLeading:h.Trash01,onClick:b=>{b.stopPropagation(),aa(a._id)}})]})]})},a._id))})]}),(0,b.jsx)(w.SlideoutMenu,{isOpen:K,onOpenChange:L,children:(0,b.jsxs)(w.SlideoutMenu.Content,{children:[(0,b.jsx)(w.SlideoutMenu.Header,{onClose:()=>L(!1),children:(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:O?"Edit Category":"New Category"})}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Name"}),(0,b.jsx)(u.Input,{value:S.name,onChange:a=>T({...S,name:a}),placeholder:"e.g. Engineering"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),(0,b.jsx)("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,value:S.description,onChange:a=>T({...S,description:a.target.value}),placeholder:"Describe this category..."})]}),(0,b.jsx)("div",{className:"pt-4",children:(0,b.jsx)(t.Button,{className:"w-full",onClick:$,children:O?"Save Changes":"Create Category"})})]})]})}),(0,b.jsx)(w.SlideoutMenu,{isOpen:M,onOpenChange:N,children:(0,b.jsxs)(w.SlideoutMenu.Content,{children:[(0,b.jsx)(w.SlideoutMenu.Header,{onClose:()=>N(!1),children:(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:Q?"Edit Article":"New Article"})}),(0,b.jsxs)("div",{className:"flex flex-col h-full",children:[(0,b.jsxs)("div",{className:"p-6 space-y-6 flex-1 overflow-y-auto",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Article Title"}),(0,b.jsx)(u.Input,{value:U.title,onChange:a=>V({...U,title:a}),placeholder:"Enter article title...",className:"text-lg font-medium"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Category"}),(0,b.jsx)("select",{className:"w-full p-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",value:U.categoryId,onChange:a=>V({...U,categoryId:a.target.value}),children:a.map(a=>(0,b.jsx)("option",{value:a._id,children:a.name},a._id))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),(0,b.jsxs)("select",{className:"w-full p-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",value:U.status,onChange:a=>V({...U,status:a.target.value}),children:[(0,b.jsx)("option",{value:"published",children:"Published"}),(0,b.jsx)("option",{value:"draft",children:"Draft"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2 flex flex-col flex-1 min-h-[400px]",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Content"}),(0,b.jsxs)("div",{className:"border border-gray-300 rounded-lg overflow-hidden flex flex-col flex-1 focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-transparent transition-all",children:[(0,b.jsxs)("div",{className:"bg-gray-50 border-b border-gray-200 p-2 flex items-center gap-1 flex-wrap",children:[(0,b.jsxs)("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2 gap-1",children:[(0,b.jsx)(B,{icon:j,tooltip:"Bold"}),(0,b.jsx)(B,{icon:k,tooltip:"Italic"}),(0,b.jsx)(B,{icon:l,tooltip:"Underline"})]}),(0,b.jsxs)("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2 gap-1",children:[(0,b.jsx)(B,{icon:p,tooltip:"Align Left"}),(0,b.jsx)(B,{icon:q,tooltip:"Align Center"}),(0,b.jsx)(B,{icon:r,tooltip:"Align Right"})]}),(0,b.jsxs)("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2 gap-1",children:[(0,b.jsx)(B,{icon:n,tooltip:"Bullet List"}),(0,b.jsx)(B,{icon:m,tooltip:"Link"}),(0,b.jsx)(B,{icon:o,tooltip:"Image"})]})]}),(0,b.jsx)("textarea",{className:"w-full flex-1 p-4 text-sm focus:outline-none resize-none font-mono",value:U.content,onChange:a=>V({...U,content:a.target.value}),placeholder:"Start writing your article..."})]})]})]}),(0,b.jsxs)("div",{className:"p-4 border-t border-gray-200 bg-gray-50 flex gap-3 justify-end shrink-0",children:[(0,b.jsx)(t.Button,{color:"tertiary",onClick:()=>N(!1),children:"Cancel"}),(0,b.jsx)(t.Button,{color:"primary",onClick:_,children:Q?"Save Changes":"Publish Article"})]})]})]})})]})}let B=({icon:a,tooltip:c})=>(0,b.jsx)("button",{type:"button",className:"p-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-200 rounded-md transition-colors",title:c,children:(0,b.jsx)(a,{className:"size-4"})});a.s(["default",()=>A],16096)}];

//# sourceMappingURL=src_app_admin_articles_page_tsx_38f9a5da._.js.map