(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86450,e=>{"use strict";var t=e.i(71645);let i=({size:e=24,color:i="currentColor",...s})=>t.createElement("svg",{viewBox:"0 0 24 24",width:e,height:e,stroke:i,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...s},t.createElement("path",{d:"M2.876 18.116c.046-.414.069-.62.131-.814a2 2 0 0 1 .234-.485c.111-.17.259-.317.553-.61L17 3a2.828 2.828 0 1 1 4 4L7.794 20.206c-.294.294-.442.442-.611.553a2 2 0 0 1-.485.233c-.193.063-.4.086-.814.132L2.5 21.5l.376-3.384Z"}));i.displayName="Edit01",e.s(["Edit01",()=>i])},65842,e=>{"use strict";var t=e.i(71645);let i=({size:e=24,color:i="currentColor",...s})=>t.createElement("svg",{viewBox:"0 0 24 24",width:e,height:e,stroke:i,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...s},t.createElement("path",{d:"M16 6v-.8c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C14.48 2 13.92 2 12.8 2h-1.6c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C8 3.52 8 4.08 8 5.2V6m2 5.5v5m4-5v5M3 6h18m-2 0v11.2c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C16.72 22 15.88 22 14.2 22H9.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C5 19.72 5 18.88 5 17.2V6"}));i.displayName="Trash01",e.s(["Trash01",()=>i])},53169,e=>{"use strict";var t=e.i(71645);let i=({size:e=24,color:i="currentColor",...s})=>t.createElement("svg",{viewBox:"0 0 24 24",width:e,height:e,stroke:i,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...s},t.createElement("path",{d:"M6 12h12M3 6h18M9 18h6"}));i.displayName="FilterLines",e.s(["FilterLines",()=>i])},66457,e=>{"use strict";var t=e.i(43476),i=e.i(23905),s=e.i(3358),a=e.i(88846),r=e.i(41119),l=e.i(72395);let o={xs:{root:"size-7",icon:"size-4"},sm:{root:"size-9",icon:"size-5"},md:{root:"size-10",icon:"size-5"},lg:{root:"size-11",icon:"size-6"}},n={light:"text-fg-quaternary hover:bg-primary_hover hover:text-fg-quaternary_hover focus-visible:outline-2 focus-visible:outline-offset-2 outline-focus-ring",dark:"text-fg-white/70 hover:text-fg-white hover:bg-white/20 focus-visible:outline-2 focus-visible:outline-offset-2 outline-focus-ring"},d=({label:e,className:i,size:s="sm",theme:d="light",...c})=>(0,t.jsx)(r.Button,{...c,"aria-label":e||"Close",className:e=>(0,l.cx)("flex cursor-pointer items-center justify-center rounded-lg p-2 transition duration-100 ease-linear focus:outline-hidden",o[s].root,n[d],"function"==typeof i?i(e):i),children:(0,t.jsx)(a.X,{"aria-hidden":"true",className:(0,l.cx)("shrink-0 transition-inherit-all",o[s].icon)})}),c=e=>(0,t.jsx)(s.ModalOverlay,{...e,className:t=>(0,l.cx)("fixed inset-0 flex min-h-dvh w-full items-center justify-end bg-overlay/70 pl-6 outline-hidden ease-linear md:pl-10",t.isEntering&&"duration-300 animate-in fade-in",t.isExiting&&"duration-500 animate-out fade-out","function"==typeof e.className?e.className(t):e.className)});c.displayName="ModalOverlay";let u=e=>(0,t.jsx)(s.Modal,{...e,className:t=>(0,l.cx)("inset-y-0 right-0 h-full w-full max-w-100 shadow-xl transition",t.isEntering&&"duration-300 animate-in slide-in-from-right",t.isExiting&&"duration-500 animate-out slide-out-to-right","function"==typeof e.className?e.className(t):e.className)});u.displayName="Modal";let m=e=>(0,t.jsx)(i.Dialog,{role:"dialog",...e,className:(0,l.cx)("relative flex size-full flex-col items-start gap-6 overflow-y-auto bg-primary ring-1 ring-secondary_alt outline-hidden",e.className)});m.displayName="Dialog";let h=({children:e,dialogClassName:i,...s})=>(0,t.jsx)(c,{...s,children:(0,t.jsx)(u,{className:e=>(0,l.cx)("function"==typeof s.className?s.className(e):s.className),children:s=>(0,t.jsx)(m,{className:i,children:({close:t})=>"function"==typeof e?e({...s,close:t}):e})})});h.displayName="SlideoutMenu";let x=({role:e="main",...i})=>(0,t.jsx)("div",{role:e,...i,className:(0,l.cx)("flex size-full flex-col gap-6 overflow-y-auto overscroll-auto px-4 md:px-6",i.className)});x.displayName="SlideoutContent";let p=({className:e,children:i,onClose:s,...a})=>(0,t.jsxs)("header",{...a,className:(0,l.cx)("relative z-1 w-full px-4 pt-6 md:px-6",e),children:[i,(0,t.jsx)(d,{size:"md",className:"absolute top-3 right-3 shrink-0",onClick:s})]});p.displayName="SlideoutHeader";let v=e=>(0,t.jsx)("footer",{...e,className:(0,l.cx)("w-full p-4 shadow-[inset_0px_1px_0px_0px] shadow-border-secondary md:px-6",e.className)});v.displayName="SlideoutFooter",h.displayName="SlideoutMenu",h.Trigger=i.DialogTrigger,h.Content=x,h.Header=p,h.Footer=v,e.s(["SlideoutMenu",()=>h],66457)},24040,e=>{"use strict";let t="http://localhost:5001/api";e.s(["apiClient",0,{get:async e=>{let i=await fetch(`${t}${e}`);if(!i.ok)throw Error(`API Error: ${i.statusText}`);return i.json()},post:async(e,i)=>{let s=await fetch(`${t}${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!s.ok)throw Error(`API Error: ${s.statusText}`);return s.json()},put:async(e,i)=>{let s=await fetch(`${t}${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!s.ok)throw Error(`API Error: ${s.statusText}`);return s.json()},delete:async e=>{let i=await fetch(`${t}${e}`,{method:"DELETE"});if(!i.ok)throw Error(`API Error: ${i.statusText}`);return i.json()}}])},69331,e=>{"use strict";var t=e.i(96085);let i="697e03f744d6d61aec26d272";class s{socket=null;listeners=new Map;connect(){if(this.socket){this.socket.connected&&this.emit("agent-join",i);return}console.log("Initializing Socket Service..."),this.socket=(0,t.io)("http://localhost:5001"),this.socket.on("connect",()=>{console.log("Connected to socket server"),this.emit("agent-join",i)}),this.socket.on("disconnect",()=>{console.log("Disconnected from socket server")}),["new-message","visitor-updated","session-updated","active-visitors","active-sessions"].forEach(e=>{this.socket?.on(e,t=>{console.log(`[SocketService] Received event: ${e}`,t._id||"no-id"),(this.listeners.get(e)||[]).forEach(e=>e(t))})})}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}emit(e,t){this.socket||this.connect(),this.socket?.emit(e,t)}on(e,t){return this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e)?.push(t),()=>{let i=this.listeners.get(e)||[];this.listeners.set(e,i.filter(e=>e!==t))}}}let a=new s;e.s(["socketService",0,a])},60489,e=>{"use strict";var t=e.i(71645);let i=({size:e=24,color:i="currentColor",...s})=>t.createElement("svg",{viewBox:"0 0 24 24",width:e,height:e,stroke:i,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...s},t.createElement("path",{d:"M5 12h14m0 0-7-7m7 7-7 7"}));i.displayName="ArrowRight",e.s(["ArrowRight",()=>i])},70878,e=>{"use strict";var t=e.i(71645);let i=({size:e=24,color:i="currentColor",...s})=>t.createElement("svg",{viewBox:"0 0 24 24",width:e,height:e,stroke:i,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...s},t.createElement("path",{d:"M8 21h8m-4-4v4m-5.2-4h10.4c1.68 0 2.52 0 3.162-.327a3 3 0 0 0 1.311-1.311C22 14.72 22 13.88 22 12.2V7.8c0-1.68 0-2.52-.327-3.162a3 3 0 0 0-1.311-1.311C19.72 3 18.88 3 17.2 3H6.8c-1.68 0-2.52 0-3.162.327a3 3 0 0 0-1.311 1.311C2 5.28 2 6.12 2 7.8v4.4c0 1.68 0 2.52.327 3.162a3 3 0 0 0 1.311 1.311C4.28 17 5.12 17 6.8 17Z"}));i.displayName="Monitor01",e.s(["Monitor01",()=>i])},42366,e=>{"use strict";var t=e.i(71645);let i=({size:e=24,color:i="currentColor",...s})=>t.createElement("svg",{viewBox:"0 0 24 24",width:e,height:e,stroke:i,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...s},t.createElement("path",{d:"M2 12h20M2 12c0 5.523 4.477 10 10 10M2 12C2 6.477 6.477 2 12 2m10 10c0 5.523-4.477 10-10 10m10-10c0-5.523-4.477-10-10-10m0 0a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10m0-20a15.3 15.3 0 0 0-4 10 15.3 15.3 0 0 0 4 10"}));i.displayName="Globe01",e.s(["Globe01",()=>i])},34874,e=>{"use strict";var t=e.i(71645);let i=({size:e=24,color:i="currentColor",...s})=>t.createElement("svg",{viewBox:"0 0 24 24",width:e,height:e,stroke:i,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...s},t.createElement("path",{d:"M5 15c-.932 0-1.398 0-1.765-.152a2 2 0 0 1-1.083-1.083C2 13.398 2 12.932 2 12V5.2c0-1.12 0-1.68.218-2.108a2 2 0 0 1 .874-.874C3.52 2 4.08 2 5.2 2H12c.932 0 1.398 0 1.765.152a2 2 0 0 1 1.083 1.083C15 3.602 15 4.068 15 5m-2.8 17h6.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C22 20.48 22 19.92 22 18.8v-6.6c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C20.48 9 19.92 9 18.8 9h-6.6c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C9 10.52 9 11.08 9 12.2v6.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C10.52 22 11.08 22 12.2 22Z"}));i.displayName="Copy01",e.s(["Copy01",()=>i])},1071,62633,e=>{"use strict";var t=e.i(70864),i=e.i(99661),s=e.i(71645);function a(e,a){let r=null==a?void 0:a.isDisabled,[l,o]=(0,s.useState)(!1);return(0,i.useLayoutEffect)(()=>{if((null==e?void 0:e.current)&&!r){let i=()=>{e.current&&o(!!(0,t.getFocusableTreeWalker)(e.current,{tabbable:!0}).nextNode())};i();let s=new MutationObserver(i);return s.observe(e.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{s.disconnect()}}}),!r&&l}function r(e){return parseInt(s.version.split(".")[0],10)>=19?e:e?"true":void 0}e.s(["useHasTabbableChild",()=>a],1071),e.s(["inertValue",()=>r],62633)},11335,e=>{"use strict";var t=e.i(71645);let i=({size:e=24,color:i="currentColor",...s})=>t.createElement("svg",{viewBox:"0 0 24 24",width:e,height:e,stroke:i,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...s},t.createElement("path",{d:"M12 6v6l4 2m6-2c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10Z"}));i.displayName="Clock",e.s(["Clock",()=>i])},38891,e=>{"use strict";var t=e.i(71645);let i=({size:e=24,color:i="currentColor",...s})=>t.createElement("svg",{viewBox:"0 0 24 24",width:e,height:e,stroke:i,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...s},t.createElement("path",{d:"M12 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm0-7a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm0 14a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"}));i.displayName="DotsVertical",e.s(["DotsVertical",()=>i])},1715,e=>{"use strict";var t=e.i(35190),i=e.i(71645);function s(e={}){var a;let{isReadOnly:r}=e,[l,o]=(0,t.useControlledState)(e.isSelected,e.defaultSelected||!1,e.onChange),[n]=(0,i.useState)(l);return{isSelected:l,defaultSelected:null!=(a=e.defaultSelected)?a:n,setSelected:function(e){r||o(e)},toggle:function(){r||o(!l)}}}e.s(["useToggleState",()=>s])},65963,e=>{"use strict";var t=e.i(43476),i=e.i(38891),s=e.i(41119),a=e.i(94145),r=e.i(87195),l=e.i(49933),o=e.i(17016),n=e.i(72395);let d={Root:r.MenuTrigger,Popover:e=>(0,t.jsx)(l.Popover,{placement:"bottom right",...e,className:t=>(0,n.cx)("w-62 origin-(--trigger-anchor-point) overflow-auto rounded-lg bg-primary shadow-lg ring-1 ring-secondary_alt will-change-transform",t.isEntering&&"duration-150 ease-out animate-in fade-in placement-right:slide-in-from-left-0.5 placement-top:slide-in-from-bottom-0.5 placement-bottom:slide-in-from-top-0.5",t.isExiting&&"duration-100 ease-in animate-out fade-out placement-right:slide-out-to-left-0.5 placement-top:slide-out-to-bottom-0.5 placement-bottom:slide-out-to-top-0.5","function"==typeof e.className?e.className(t):e.className),children:e.children}),Menu:e=>(0,t.jsx)(r.Menu,{disallowEmptySelection:!0,selectionMode:"single",...e,className:t=>(0,n.cx)("h-min overflow-y-auto py-1 outline-hidden select-none","function"==typeof e.className?e.className(t):e.className)}),Section:r.MenuSection,SectionHeader:a.Header,Item:({label:e,children:i,addon:s,icon:a,unstyled:l,...o})=>l?(0,t.jsx)(r.MenuItem,{id:e,textValue:e,...o}):(0,t.jsx)(r.MenuItem,{...o,className:e=>(0,n.cx)("group block cursor-pointer px-1.5 py-px outline-hidden",e.isDisabled&&"cursor-not-allowed","function"==typeof o.className?o.className(e):o.className),children:r=>(0,t.jsxs)("div",{className:(0,n.cx)("relative flex items-center rounded-md px-2.5 py-2 outline-focus-ring transition duration-100 ease-linear",!r.isDisabled&&"group-hover:bg-primary_hover",r.isFocused&&"bg-primary_hover",r.isFocusVisible&&"outline-2 -outline-offset-2"),children:[a&&(0,t.jsx)(a,{"aria-hidden":"true",className:(0,n.cx)("mr-2 size-4 shrink-0 stroke-[2.25px]",r.isDisabled?"text-fg-disabled":"text-fg-quaternary")}),(0,t.jsx)("span",{className:(0,n.cx)("grow truncate text-sm font-semibold",r.isDisabled?"text-disabled":"text-secondary",r.isFocused&&"text-secondary_hover"),children:e||("function"==typeof i?i(r):i)}),s&&(0,t.jsx)("span",{className:(0,n.cx)("ml-3 shrink-0 rounded px-1 py-px text-xs font-medium ring-1 ring-secondary ring-inset",r.isDisabled?"text-disabled":"text-quaternary"),children:s})]})}),Separator:e=>(0,t.jsx)(o.Separator,{...e,className:(0,n.cx)("my-1 h-px w-full bg-border-secondary",e.className)}),DotsButton:e=>(0,t.jsx)(s.Button,{...e,"aria-label":"Open menu",className:t=>(0,n.cx)("cursor-pointer rounded-md text-fg-quaternary outline-focus-ring transition duration-100 ease-linear",(t.isPressed||t.isHovered)&&"text-fg-quaternary_hover",(t.isPressed||t.isFocusVisible)&&"outline-2 outline-offset-2","function"==typeof e.className?e.className(t):e.className),children:(0,t.jsx)(i.DotsVertical,{className:"size-5 transition-inherit-all"})})};e.s(["Dropdown",0,d])},30503,e=>{"use strict";var t=e.i(43476),i=e.i(64957),s=e.i(24099);e.i(26675);var a=e.i(95240);e.i(50118),e.i(81268);let r=new WeakMap;var l=e.i(69080),o=e.i(50179),n=(e.i(94115),e.i(16231),e.i(71645)),d=e.i(75695),c=e.i(48774),u=e.i(43027);e.i(47167);var m=e.i(14279),h=e.i(49962);function x(e,t,i){let s=(0,d.useFormValidationState)({...e,value:t.isSelected}),{isInvalid:a,validationErrors:r,validationDetails:x}=s.displayValidation,{labelProps:p,inputProps:v,isSelected:g,isPressed:f,isDisabled:b,isReadOnly:y}=function(e,t,i){let{isDisabled:s=!1,isReadOnly:a=!1,value:r,name:n,form:d,children:c,"aria-label":x,"aria-labelledby":p,validationState:v="valid",isInvalid:g,onPressStart:f,onPressEnd:b,onPressChange:y,onPress:j,onPressUp:C,onClick:N}=e,{pressProps:w,isPressed:k}=(0,u.usePress)({onPressStart:f,onPressEnd:b,onPressChange:y,onPress:j,onPressUp:C,onClick:N,isDisabled:s}),{pressProps:S,isPressed:P}=(0,u.usePress)({onPressStart:f,onPressEnd:b,onPressChange:y,onPressUp:C,onClick:N,onPress(e){var s;null==j||j(e),t.toggle(),null==(s=i.current)||s.focus()},isDisabled:s||a}),{focusableProps:V}=(0,h.useFocusable)(e,i),E=(0,o.mergeProps)(w,V),L=(0,l.filterDOMProps)(e,{labelable:!0});return(0,m.useFormReset)(i,t.defaultSelected,t.setSelected),{labelProps:(0,o.mergeProps)(S,{onClick:e=>e.preventDefault()}),inputProps:(0,o.mergeProps)(L,{"aria-invalid":g||"invalid"===v||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":a||void 0,onChange:e=>{e.stopPropagation(),t.setSelected(e.target.checked)},disabled:s,...null==r?{}:{value:r},name:n,form:d,type:"checkbox",...E}),isSelected:t.isSelected,isPressed:k||P,isDisabled:s,isReadOnly:a,isInvalid:g||"invalid"===v}}({...e,isInvalid:a},t,i);(0,c.useFormValidation)(e,s,i);let{isIndeterminate:j,isRequired:C,validationBehavior:N="aria"}=e;(0,n.useEffect)(()=>{i.current&&(i.current.indeterminate=!!j)});let{pressProps:w}=(0,u.usePress)({isDisabled:b||y,onPress(){let{[d.privateValidationStateProp]:t}=e,{commitValidation:i}=t||s;i()}});return{labelProps:(0,o.mergeProps)(p,w,(0,n.useMemo)(()=>({onMouseDown:e=>e.preventDefault()}),[])),inputProps:{...v,checked:g,"aria-required":C&&"aria"===N||void 0,required:C&&"native"===N},isSelected:g,isPressed:f,isDisabled:b,isReadOnly:y,isInvalid:a,validationErrors:r,validationDetails:x}}var p=e.i(1715),v=e.i(29427),g=e.i(71330),f=e.i(15960),b=(e.i(35190),e.i(97547)),y=e.i(82179);let j=(0,n.createContext)(null),C=(0,n.forwardRef)(function(e,t){var c,u;let{inputRef:m=null,...h}=e;[e,t]=(0,s.useContextProps)(h,t,i.CheckboxContext);let{validationBehavior:C}=(0,s.useSlottedContext)(a.FormContext)||{},N=null!=(u=null!=(c=e.validationBehavior)?c:C)?u:"native",w=(0,n.useContext)(j),k=(0,b.useObjectRef)((0,n.useMemo)(()=>(0,y.mergeRefs)(m,void 0!==e.inputRef?e.inputRef:null),[m,e.inputRef])),{labelProps:S,inputProps:P,isSelected:V,isDisabled:E,isReadOnly:L,isPressed:M,isInvalid:T}=w?function(e,t,i){var s,a;let l=(0,p.useToggleState)({isReadOnly:e.isReadOnly||t.isReadOnly,isSelected:t.isSelected(e.value),defaultSelected:t.defaultValue.includes(e.value),onChange(i){i?t.addValue(e.value):t.removeValue(e.value),e.onChange&&e.onChange(i)}}),{name:o,form:c,descriptionId:u,errorMessageId:m,validationBehavior:h}=r.get(t);h=null!=(s=e.validationBehavior)?s:h;let{realtimeValidation:v}=(0,d.useFormValidationState)({...e,value:l.isSelected,name:void 0,validationBehavior:"aria"}),g=(0,n.useRef)(d.DEFAULT_VALIDATION_RESULT),f=()=>{t.setInvalid(e.value,v.isInvalid?v:g.current)};(0,n.useEffect)(f);let b=t.realtimeValidation.isInvalid?t.realtimeValidation:v,y="native"===h?t.displayValidation:b,j=x({...e,isReadOnly:e.isReadOnly||t.isReadOnly,isDisabled:e.isDisabled||t.isDisabled,name:e.name||o,form:e.form||c,isRequired:null!=(a=e.isRequired)?a:t.isRequired,validationBehavior:h,[d.privateValidationStateProp]:{realtimeValidation:b,displayValidation:y,resetValidation:t.resetValidation,commitValidation:t.commitValidation,updateValidation(e){g.current=e,f()}}},l,i);return{...j,inputProps:{...j.inputProps,"aria-describedby":[e["aria-describedby"],t.isInvalid?m:null,u].filter(Boolean).join(" ")||void 0}}}({...(0,s.removeDataAttributes)(e),value:e.value,children:"function"==typeof e.children||e.children},w,k):x({...(0,s.removeDataAttributes)(e),children:"function"==typeof e.children||e.children,validationBehavior:N},(0,p.useToggleState)(e),k),{isFocused:D,isFocusVisible:R,focusProps:z}=(0,v.useFocusRing)(),I=E||L,{hoverProps:O,isHovered:B}=(0,g.useHover)({...e,isDisabled:I}),H=(0,s.useRenderProps)({...e,defaultClassName:"react-aria-Checkbox",values:{isSelected:V,isIndeterminate:e.isIndeterminate||!1,isPressed:M,isHovered:B,isFocused:D,isFocusVisible:R,isDisabled:E,isReadOnly:L,isInvalid:T,isRequired:e.isRequired||!1}}),F=(0,l.filterDOMProps)(e,{global:!0});return delete F.id,delete F.onClick,n.default.createElement("label",{...(0,o.mergeProps)(F,S,O,H),ref:t,slot:e.slot||void 0,"data-selected":V||void 0,"data-indeterminate":e.isIndeterminate||void 0,"data-pressed":M||void 0,"data-hovered":B||void 0,"data-focused":D||void 0,"data-focus-visible":R||void 0,"data-disabled":E||void 0,"data-readonly":L||void 0,"data-invalid":T||void 0,"data-required":e.isRequired||void 0},n.default.createElement(f.VisuallyHidden,{elementType:"span"},n.default.createElement("input",{...(0,o.mergeProps)(P,z),ref:k})),H.children)});var N=e.i(72395);let w=({className:e,isSelected:i,isDisabled:s,isIndeterminate:a,size:r="sm",isFocusVisible:l=!1})=>(0,t.jsxs)("div",{className:(0,N.cx)("relative flex size-4 shrink-0 cursor-pointer appearance-none items-center justify-center rounded bg-primary ring-1 ring-primary ring-inset","md"===r&&"size-5 rounded-md",(i||a)&&"bg-brand-solid ring-bg-brand-solid",s&&"cursor-not-allowed bg-disabled_subtle ring-disabled",l&&"outline-2 outline-offset-2 outline-focus-ring",e),children:[(0,t.jsx)("svg",{"aria-hidden":"true",viewBox:"0 0 14 14",fill:"none",className:(0,N.cx)("pointer-events-none absolute h-3 w-2.5 text-fg-white opacity-0 transition-inherit-all","md"===r&&"size-3.5",a&&"opacity-100",s&&"text-fg-disabled_subtle"),children:(0,t.jsx)("path",{d:"M2.91675 7H11.0834",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,t.jsx)("svg",{"aria-hidden":"true",viewBox:"0 0 14 14",fill:"none",className:(0,N.cx)("pointer-events-none absolute size-3 text-fg-white opacity-0 transition-inherit-all","md"===r&&"size-3.5",i&&!a&&"opacity-100",s&&"text-fg-disabled_subtle"),children:(0,t.jsx)("path",{d:"M11.6666 3.5L5.24992 9.91667L2.33325 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]});w.displayName="CheckboxBase";let k=({label:e,hint:i,size:s="sm",className:a,...r})=>{let l={sm:{root:"gap-2",textWrapper:"",label:"text-sm font-medium",hint:"text-sm"},md:{root:"gap-3",textWrapper:"gap-0.5",label:"text-md font-medium",hint:"text-md"}};return(0,t.jsx)(C,{...r,className:e=>(0,N.cx)("flex items-start",e.isDisabled&&"cursor-not-allowed",l[s].root,"function"==typeof a?a(e):a),children:({isSelected:a,isIndeterminate:r,isDisabled:o,isFocusVisible:n})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w,{size:s,isSelected:a,isIndeterminate:r,isDisabled:o,isFocusVisible:n,className:e||i?"mt-0.5":""}),(e||i)&&(0,t.jsxs)("div",{className:(0,N.cx)("inline-flex flex-col",l[s].textWrapper),children:[e&&(0,t.jsx)("p",{className:(0,N.cx)("text-secondary select-none",l[s].label),children:e}),i&&(0,t.jsx)("span",{className:(0,N.cx)("text-tertiary",l[s].hint),onClick:e=>e.stopPropagation(),children:i})]})]})})};k.displayName="Checkbox",e.s(["Checkbox",0,k],30503)},39534,48503,e=>{"use strict";var t=e.i(71645);let i=({size:e=24,color:i="currentColor",...s})=>t.createElement("svg",{viewBox:"0 0 24 24",width:e,height:e,stroke:i,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...s},t.createElement("path",{d:"M21 15v1.2c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C18.72 21 17.88 21 16.2 21H7.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C3 18.72 3 17.88 3 16.2V15m14-5-5 5m0 0-5-5m5 5V3"}));i.displayName="Download01",e.s(["Download01",()=>i],39534);var s=e.i(24040);e.s(["visitorService",0,{getVisitors:()=>s.apiClient.get("/visitors"),getVisitor:e=>s.apiClient.get(`/visitors/${e}`),updateVisitor:(e,t)=>s.apiClient.put(`/visitors/${e}`,t),getLeads:e=>{let t=e?`?status=${e}`:"";return s.apiClient.get(`/leads${t}`)},createLead:e=>s.apiClient.post("/leads",e),updateLead:(e,t)=>s.apiClient.put(`/leads/${e}`,t)}],48503)},67918,33880,5016,e=>{"use strict";var t=e.i(43476);e.s(["default",0,({size:e=24,...i})=>(0,t.jsx)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",...i,children:(0,t.jsx)("path",{d:"M20.8428 17.1449C20.5101 17.9135 20.1163 18.6211 19.66 19.2715C19.0381 20.1583 18.5288 20.7721 18.1364 21.113C17.528 21.6724 16.8762 21.959 16.1782 21.9753C15.6771 21.9753 15.0728 21.8327 14.3693 21.5434C13.6636 21.2555 13.015 21.113 12.422 21.113C11.8 21.113 11.133 21.2555 10.4195 21.5434C9.70493 21.8327 9.12928 21.9834 8.68916 21.9984C8.01981 22.0269 7.35264 21.7322 6.68668 21.113C6.26164 20.7422 5.72999 20.1067 5.09309 19.2063C4.40976 18.2449 3.84796 17.13 3.40784 15.8589C2.93648 14.486 2.7002 13.1565 2.7002 11.8694C2.7002 10.3951 3.01878 9.12345 3.65689 8.05784C4.1584 7.20191 4.82557 6.52672 5.66059 6.03105C6.49562 5.53539 7.39786 5.2828 8.36949 5.26664C8.90114 5.26664 9.59833 5.43109 10.4647 5.75429C11.3287 6.07858 11.8834 6.24303 12.1266 6.24303C12.3085 6.24303 12.9247 6.05074 13.9694 5.66738C14.9573 5.31186 15.7911 5.16466 16.4742 5.22264C18.3251 5.37202 19.7157 6.10167 20.6405 7.41619C18.9851 8.4192 18.1662 9.82403 18.1825 11.6262C18.1975 13.03 18.7067 14.1981 19.7075 15.1256C20.1611 15.5561 20.6676 15.8888 21.2312 16.1251C21.109 16.4795 20.98 16.819 20.8428 17.1449V17.1449ZM16.5978 0.440369C16.5978 1.54062 16.1958 2.56792 15.3946 3.51878C14.4277 4.64917 13.2582 5.30236 11.99 5.19929C11.9738 5.06729 11.9645 4.92837 11.9645 4.78239C11.9645 3.72615 12.4243 2.59576 13.2408 1.67152C13.6485 1.20356 14.167 0.814453 14.7957 0.504058C15.4231 0.198295 16.0166 0.0292007 16.5747 0.000244141C16.591 0.147331 16.5978 0.294426 16.5978 0.440355V0.440369Z",fill:"currentColor"})})],33880),e.s([],67918),e.s(["Google",0,({size:e=24,...i})=>(0,t.jsx)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",...i,children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.8426 6.54781C15.6036 5.36611 13.9501 4.72235 12.2392 4.74881C9.10863 4.74881 6.44981 6.86086 5.5018 9.70486V9.70493C4.99913 11.1953 4.99913 12.8091 5.50179 14.2994H5.50619C6.45861 17.139 9.11303 19.2511 12.2437 19.2511C13.8597 19.2511 15.247 18.8378 16.3223 18.1077V18.1047C17.5878 17.2669 18.452 15.9486 18.721 14.4582H12.2393V9.83722H23.558C23.6991 10.6397 23.7653 11.4599 23.7653 12.2756C23.7653 15.9254 22.4609 19.0112 20.1913 21.1012L20.1937 21.103C18.2051 22.9373 15.4757 24 12.2392 24C7.70204 24 3.55286 21.4426 1.51575 17.3904V17.3904C-0.186243 13.9996 -0.186239 10.0048 1.51576 6.61398H1.51579L1.51575 6.61395C3.55286 2.55737 7.70204 -4.58262e-05 12.2392 -4.58262e-05C15.22 -0.0353205 18.0992 1.08465 20.2686 3.12176L16.8426 6.54781Z",fill:"currentColor"})})],5016)},82229,e=>{"use strict";var t=e.i(43476),i=e.i(71645),s=e.i(69331),a=e.i(70878),r=e.i(3759),l=e.i(11335),o=e.i(42366),n=e.i(38891),d=e.i(53169),c=e.i(35079),u=e.i(39534),m=e.i(99938),h=e.i(60489),x=e.i(22384),p=e.i(57793),v=e.i(47209),g=e.i(77876);e.i(67918);var f=e.i(5016),b=e.i(72395),y=e.i(66457),j=e.i(48503);function C(){let[e,C]=(0,i.useState)(""),[w,k]=(0,i.useState)(null),[S,P]=(0,i.useState)(!1),[V,E]=(0,i.useState)([]),[L,M]=(0,i.useState)(!0);(0,i.useEffect)(()=>{let e=(e,t="")=>"string"==typeof e?e:"number"==typeof e?String(e):t,t=t=>({id:t._id,name:t.name||`Visitor ${t._id.substring(0,6)}`,email:t.email,status:t.status||"online",source:t.source||"direct",currentPage:t.pageViews&&t.pageViews.length>0?t.pageViews[t.pageViews.length-1].path:t.currentPage||"/",timeOnSite:t.sessionStart?T(t.sessionStart):"Just now",location:{city:e(t.location?.city||t.city,"Unknown"),state:e(t.location?.region||t.region,""),country:e(t.location?.country||t.country,"Unknown"),countryCode:e(t.location?.countryCode||t.countryCode||t.location?.country||t.country,"US")},browser:e(t.browser||t.device&&t.device.browser,"Unknown"),os:e(t.os||t.device&&t.device.os,"Unknown"),device:t.device&&"object"==typeof t.device?e(t.device.type,"desktop"):e(t.device,"desktop"),visits:t.pageViews?t.pageViews.length:"number"==typeof t.visits?t.visits:1,lastVisit:t.lastSeen?new Date(t.lastSeen).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Just now"});return(async()=>{M(!0);try{let e=await j.visitorService.getVisitors();E(e.map(t))}catch(e){console.error("Failed to fetch visitors:",e)}finally{M(!1)}})(),s.socketService.connect(),s.socketService.on("active-visitors",e=>{let i=e.map(t);E(e=>{let t=new Map(e.map(e=>[e.id,e]));return i.forEach(e=>{t.set(e.id,e)}),Array.from(t.values())})}),s.socketService.on("visitor-updated",e=>{E(i=>{let s=i.findIndex(t=>t.id===e._id),a=t(e);if(s>=0){let e=[...i];return e[s]={...e[s],...a},e}return[a,...i]})}),()=>{s.socketService.disconnect()}},[]);let T=e=>{let t=new Date(e).getTime(),i=Math.floor((new Date().getTime()-t)/6e4);return i<1?"Just now":`${i}m ago`},D=V.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.location.country.toLowerCase().includes(e.toLowerCase())),R=V.find(e=>e.id===w)||V[0];return(0,t.jsxs)("div",{className:"flex flex-col h-full bg-gray-50 p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"All Visitors"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Monitor real-time visitor activity and engagement."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(v.Button,{color:"secondary",iconLeading:u.Download01,children:"Export"}),(0,t.jsx)(v.Button,{color:"primary",iconLeading:r.MessageChatSquare,children:"Chat with all"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[(0,t.jsxs)("div",{className:"relative w-full sm:w-96",children:[(0,t.jsx)(c.SearchLg,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-5 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search visitors...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",value:e,onChange:e=>C(e.target.value)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[(0,t.jsx)(v.Button,{color:"tertiary",iconLeading:d.FilterLines,children:"Filters"}),(0,t.jsx)("div",{className:"h-6 w-px bg-gray-200 hidden sm:block"}),(0,t.jsxs)("span",{className:"text-sm text-gray-500 hidden sm:block",children:[D.length," visitors online"]})]})]}),(0,t.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden flex-1",children:L?(0,t.jsx)("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"Loading visitors..."}):(0,t.jsxs)(g.Table,{"aria-label":"Visitors table",onRowAction:e=>{k(e),P(!0)},selectionMode:"single",children:[(0,t.jsxs)(g.Table.Header,{children:[(0,t.jsx)(g.Table.Head,{isRowHeader:!0,children:"Visitor"}),(0,t.jsx)(g.Table.Head,{children:"Status"}),(0,t.jsx)(g.Table.Head,{children:"Current Page"}),(0,t.jsx)(g.Table.Head,{children:"Source"}),(0,t.jsx)(g.Table.Head,{children:"Location"}),(0,t.jsx)(g.Table.Head,{children:"Time"}),(0,t.jsx)(g.Table.Head,{children:"Device"}),(0,t.jsx)(g.Table.Head,{})]}),(0,t.jsx)(g.Table.Body,{children:D.map(e=>(0,t.jsxs)(g.Table.Row,{id:e.id,className:"cursor-pointer",children:[(0,t.jsx)(g.Table.Cell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(x.Avatar,{initials:e.name.charAt(0),size:"md",className:(0,b.cx)("text-xs","online"===e.status?"bg-green-100 text-green-700":"idle"===e.status?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600")}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-900 text-sm",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[e.visits," visits â€¢ ",e.lastVisit]})]})]})}),(0,t.jsx)(g.Table.Cell,{children:(0,t.jsx)(p.Badge,{size:"sm",color:"online"===e.status?"success":"idle"===e.status?"warning":"gray",type:"pill-color",children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,t.jsx)(g.Table.Cell,{children:(0,t.jsx)("div",{className:"max-w-[200px] truncate text-blue-600 hover:underline cursor-pointer text-sm",children:e.currentPage})}),(0,t.jsx)(g.Table.Cell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:["google"===e.source&&(0,t.jsx)(f.Google,{className:"size-4"}),"direct"===e.source&&(0,t.jsx)(h.ArrowRight,{className:"size-4"}),"social"===e.source&&(0,t.jsx)(o.Globe01,{className:"size-4"}),"referral"===e.source&&(0,t.jsx)(m.User01,{className:"size-4"}),(0,t.jsx)("span",{className:"capitalize text-sm",children:e.source})]})}),(0,t.jsx)(g.Table.Cell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-lg",children:String.fromCodePoint(...e.location.countryCode.toUpperCase().split("").map(e=>127397+e.charCodeAt(0)))}),(0,t.jsxs)("span",{className:"text-sm text-gray-700",children:[e.location.city,", ",e.location.countryCode]})]})}),(0,t.jsx)(g.Table.Cell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-gray-600",children:[(0,t.jsx)(l.Clock,{className:"size-3.5"}),(0,t.jsx)("span",{className:"text-sm",children:e.timeOnSite})]})}),(0,t.jsx)(g.Table.Cell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[(0,t.jsx)(a.Monitor01,{className:"size-4"}),(0,t.jsx)("span",{children:e.browser})]})}),(0,t.jsx)(g.Table.Cell,{children:(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(v.Button,{size:"sm",color:"primary",className:"text-xs",children:"Chat"}),(0,t.jsx)(v.Button,{size:"sm",color:"tertiary",iconLeading:n.DotsVertical})]})})]},e.id))})]})}),(0,t.jsx)(y.SlideoutMenu,{isOpen:S,onOpenChange:P,children:(0,t.jsxs)(y.SlideoutMenu.Content,{children:[(0,t.jsx)(y.SlideoutMenu.Header,{onClose:()=>P(!1),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.Monitor01,{className:"size-5 text-gray-500"}),(0,t.jsx)("span",{className:"font-semibold text-gray-900 uppercase",children:"VISITOR INFORMATION"})]})}),R&&(0,t.jsxs)("div",{className:"space-y-8 pb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900 uppercase mb-4",children:"INFO"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(N,{label:"Name",value:R.name}),R.email&&(0,t.jsx)(N,{label:"Email",value:R.email}),(0,t.jsx)(N,{label:"Status",value:R.status}),(0,t.jsx)(N,{label:"Source",value:R.source}),(0,t.jsx)(N,{label:"Current Page",value:R.currentPage,isLink:!0}),(0,t.jsx)(N,{label:"Time on Site",value:R.timeOnSite}),(0,t.jsx)(N,{label:"Visits",value:R.visits}),(0,t.jsx)(N,{label:"Last Visit",value:R.lastVisit}),(0,t.jsx)(N,{label:"Browser",value:R.browser}),(0,t.jsx)(N,{label:"OS",value:R.os}),(0,t.jsx)(N,{label:"Device",value:R.device})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900 uppercase mb-4",children:"VISITOR LOCATION"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(N,{label:"City",value:R.location.city}),(0,t.jsx)(N,{label:"State",value:R.location.state}),(0,t.jsx)(N,{label:"Country",value:R.location.country}),(0,t.jsx)(N,{label:"Country Code",value:R.location.countryCode})]})]})]})]})})]})}let N=({label:e,value:i,isLink:s,className:a})=>(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500 w-1/3 shrink-0",children:e}),(0,t.jsx)("div",{className:(0,b.cx)("text-sm text-gray-900 w-2/3 break-words",s?"text-blue-600 hover:underline cursor-pointer":"",a),children:i})]});e.s(["default",()=>C])}]);